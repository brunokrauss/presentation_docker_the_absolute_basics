<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>docker - the absolute basics</title>

    <link rel="stylesheet" href="/node_modules/reveal.js/dist/reveal.css" />
    <link rel="stylesheet" href="/node_modules/reveal.js/dist/theme/simple.css" />
    <link rel="stylesheet" href="styles/reveal-extensions.css" />
    <link rel="stylesheet" href="styles/filesystem-layers.css" />

    <script type="module" src="scripts/init.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', (ev) => {
            console.log('build directory in #directory and skip all with dataSkipInDirectory="true"');
        });
    </script>

</head>

<body>
    <div class="reveal">
        <div class="slides">

            <section>

                <section class="chapter" data-skip-in-directory="true">
                    <h2>Docker Basics</h2>
                    <p class="subtitle">The principles that can help you understand Docker</p>
                </section>

                <section>
                    <h4>List of Chapters</h4>
                    <ul id="directory">
                        <li>Why did docker arise?</li>
                        <li>What is the process conept of docker?</li>
                        <li>What is the image/layer/storage concept of docker?</li>
                        <li>Some basic handling of <code>docker</code> on the way?</li>
                    </ul>
                </section>

                <section>
                    <h4>Disclaimer</h4>

                    <ul>
                        <li class="fragment fade-in">we will <b>not talk</b> about docker-compose</li>
                        <li class="fragment fade-in">we will <b>not talk</b> about kubernetes</li>
                        <li class="fragment fade-in">we will <b>only talk</b> about basic principles</li>
                    </ul>

                    <p class="fragment fade-in">
                        if you want to participate in the exercises, install docker
                        what i would recommend!<br/>
                        <code>brew install docker</code> on MacOS<br/>
                        <code>[your package-manager] install [docker-package]</code> on Linux
                    </p>
                </section>
            </section>


            <section>
                <section class="chapter">
                    <h2>Docker is the answer to ...?</h2>
                    <p class="subtitle">understanding the problem to understand the solution</p>

                    <aside class="notes" aria-label="speakers notes">
                        Docker is pretty much everywhere
                    </aside>
                </section>

                <section>
                    <h4>Problems in Computing / Services</h4>
                    <ul>
                        <li class="fragment fade-up">servers (metal) are expensive and limited</li>
                        <li class="fragment fade-up">servers (virtual) are still expensive and mostly idle</li>
                        <li class="fragment fade-up">scalability of solutions</li>
                        <li class="fragment fade-up">virtual machines are often too big for microservices</li>
                        <li class="fragment fade-up">running applications are not easily moved</li>
                        <li class="fragment fade-up">
                            <span class="subtitle">... what other problems with servers did u encounter?</span>
                        </li>
                    </ul>
                </section>

                <section>
                    <h4>What solutions to these questions/problems do you know?</h4>
                    <ul>
                        <li>Serverless</li>
                        <li>Kubernetes/Openshift</li>
                        <li>AWS</li>
                        <li>Heroku</li>
                        <li>...</li>
                    </ul>
                </section>
            </section>

            <section>
                <section class="chapter">
                    <h2>How Does Docker work? Pt.&nbsp;1</h2>
                    <p class="subtitle">understand Dockers process concept</p>
                </section>

                <section>
                    <h4>What does the kernel do?</h4>
                    <p class="subtitle">to understand docker, you need to understand the linux kernel</p>

                        <ul>
                            <li class="fragment fade-up">manage processes (a list of process ids) assigning cpu times</li>
                            <li class="fragment fade-up">manage users/owners of processes (a list of user ids) assigning process groups</li>
                            <li class="fragment fade-up">manage filesystems and directories/files (a list of hardware ids and inodes)</li>
                            <li class="fragment fade-up">manage printers, NIC, HDDs (a list device ids)</li>
                            <li class="fragment fade-up">manage network connections (a list of socket ids for ips/ports)</li>
                        </ul>

                    <aside aria-label="speakers notes" class="notes" data-markdown>
                        - linux concepts were the basis for docker
                        - it was born out of a linux kernel
                        - lxc the basic concept and for understanding that, we need to understand the work of the kernel
                    </aside>
                </section>

                <section>
                    <h4>What does the kernel do?</h4>
                    <img src="images/kernel-tasks.png" alt="linux kernel task groups explained" height="420" />

                    <p class="fragment fade-in">What if Linux Kernels had not "one" list of processes, but "two", ...?</p>
                    <p class="fragment fade-in">What if Linux Kernels had namespaces for these lists??</p>

                </section>

                <section>
                    <h4>Introducing Linux CGroups ...</h4>
                    <p class="subtitle">... and LXC and such later</p>

                    <ul>
                        <li class="fragment fade-in">CGroups (control groups) is a Linux kernel feature since 2008 Kernel version 2.6</li>
                        <li class="fragment fade-in">it contains the basics to provide "containerized" per process environments</li>
                        <li class="fragment fade-in">somewhere at 2013 docker switched from running on linux to their own system ...</li>
                    </ul>

                    <aside class="notes" data-markdown="" aria-label="speaker notes">
                        - today we are at 2.4/2.5
                        - this is why containers may seem separated, but ...
                        - they ran the processes
                        - docker itself is open source, but ...
                    </aside>
                </section>

                <section>
                    <h4>Lets start a namespaced process</h4>

                    <p>open a terminal and enter</p>
                    <pre><code>docker run -it --entrypoint=bash ubuntu</code></pre>
                    <p>
                        in another terminal window (<code>[Cmd]+t</code> on MacOS<br/>
                        <code>[Ctrl]+t</code> on most Linuxes)
                    </p>
                    <p>
                    <pre><code>docker ps
                        # read the output carefully and then
                        docker exec -it [id or name] /bin/bash</code></pre>

                    <aside class="notes" aria-label="speaker notes" data-markdown="">
                        - explain ps output
                        - names or ids as identifiers for docker commands
                        - docker run/exec/logs/stop/start
                    </aside>
                </section>
            </section>

            <section>
                <section>
                    <section class="chapter">
                        <h2>How Does Docker work? Pt.&nbsp;2</h2>
                        <p>understand Dockers filesystem layers</p>
                    </section>


                    <section>
                        <ul>
                            <li>Now we understand the process</li>
                            <li>union filesystem</li>
                        </ul>
                    </section>
                </section>

                <section>
                    <section class="chapter">
                        <h2>What is a Docker image?</h2>
                        <p>layers upon layers!</p>
                    </section>

                    <section>
                        <ul>
                            <li>...</li>
                        </ul>
                    </section>

                    <section>
                        <h4>reading a dockerfile</h4>
                    </section>
                </section>

                <section>
                    <section class="chapter">
                        <h2>What is a Docker container?</h2>
                        <p>layers upon layers!</p>
                    </section>

                    <section>
                        <ul>
                            <li>...</li>
                        </ul>
                    </section>

                    <section>
                        <h4>working with the docker command</h4>
                    </section>
                </section>


            </section>

            <section class="chapter">
                <h2>Thank you!</h2>
            </section>


        </div>
    </div>

</body>

</html>